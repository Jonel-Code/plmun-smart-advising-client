<!--<div align="center" class="header-wrapper-main">-->
<!--<h1><p>CAN TAKE SUBJECTS</p></h1>-->
<!--</div>-->
<div class="ui center aligned basic segment">
    <div class="ui center aligned icon huge header">
        <i class="circular list ol icon"></i>
        Advising Form
        <div class="sub tiny header">
            REMAINING UNITS:
            <div [ngStyle]="{'background-color': isUnitExceed() ? 'salmon' : 'rgba(0, 0, 0, 0.0' }">
                {{this.status.toLowerCase() === 'regular' ? 0 : remainigUnits()}} unit(s)
            </div>
        </div>
    </div>
    <div class="ui horizontal divider">Subjects</div>
    <div class="content center aligned">
        <!--class="mat-elevation-z8 content-wrapper"-->
        <table mat-table
               [dataSource]="tableData"
               class="ui celled table"
               matSort matSortActive="year"
               matSortDirection="asc">

            <!-- Checkbox Column -->
            <ng-container matColumnDef="add">
                <th mat-header-cell *matHeaderCellDef style="text-align: center !important;">
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                                  [checked]="selection.hasValue()"
                                  [indeterminate]="selection.hasValue()"
                                  [disabled]="lockSelection">
                    </mat-checkbox>
                </th>
                <td mat-cell *matCellDef="let row; let i = index">
                    <mat-checkbox (click)="(!lockSelection) ? selection.toggle(row) : null"
                                  (change)="$event ? selection.toggle(row) : null"
                                  [checked]="selection.isSelected(row)"
                                  [disabled]="lockSelection || !(selection.isSelected(row) || !isUnitExceed(tableData.data[i].total_units))"
                                  mat-ripple>
                    </mat-checkbox>
                </td>
            </ng-container>

            <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Code</th>
                <td mat-cell *matCellDef="let sub">
                    <app-mobile-label [mobileLabel]="'Subject Code: '"></app-mobile-label> {{sub.code | uppercase}}
                </td>
            </ng-container>

            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Title</th>
                <td mat-cell *matCellDef="let sub">
                    <app-mobile-label [mobileLabel]="'Subject Title: '"></app-mobile-label> {{sub.title | titlecase}}
                </td>
            </ng-container>

            <ng-container matColumnDef="total_units">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Total Units</th>
                <td mat-cell *matCellDef="let sub">
                    <app-mobile-label [mobileLabel]="'Units: '"></app-mobile-label> {{sub.total_units}} units
                </td>
            </ng-container>

            <ng-container matColumnDef="pre_req">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Pre requisite</th>
                <td mat-cell *matCellDef="let sub">
                    <app-mobile-label [mobileLabel]="'Pre-requisite(s): '"></app-mobile-label> {{ (!(student_years.includes(sub.pre_req)) ? ((sub.pre_req === '') ? 'none': sub.pre_req ) : sub.pre_req
                    + ' year standing') | uppercase }}
                </td>
            </ng-container>

            <ng-container matColumnDef="year">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Year</th>
                <td mat-cell *matCellDef="let sub">
                    <app-mobile-label [mobileLabel]="'Student Year: '"></app-mobile-label> {{student_years[sub.year-1] + ' year' | uppercase }}
                </td>
            </ng-container>

            <ng-container matColumnDef="semester">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Semester</th>
                <td mat-cell *matCellDef="let sub">
                    <app-mobile-label [mobileLabel]="'Semester: '"></app-mobile-label> {{sub.semester | uppercase}} semester
                </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns;"
                (click)="!isUnitExceed(tableData.data[i].total_units) || selection.isSelected(row) ? ((!lockSelection) ? selection.toggle(row) : null) : null"
                [ngStyle]="{'background-color': selection.isSelected(row) ? 'rgba(145, 235, 193, 0.44' : 'rgba(0, 0, 0, 0.0' }">
            </tr>
            <!--<tr mat-row *matRowDef="let row; columns: displayedColumns;"-->
            <!--(click)="(!lockSelection) ? selectionToggle(row) : null"></tr>-->
        </table>
    </div>
    <div  class="ui horizontal divider">Last Step</div>
    <div align="center" class="print-advising-button">
        <button mat-stroked-button
                color="primary"
                (click)="openDialog()">
            PRINT ADVISING FORM
            <mat-icon>done_all</mat-icon>
        </button>
    </div>
</div>



